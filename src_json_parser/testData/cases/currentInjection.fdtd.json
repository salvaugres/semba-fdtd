{
    "format": "FDTD Input file",
    "__comments": "PEC surface attached to line currents. Typical lightning case.",

    "general": {
        "timeStep": 1e-12,
        "numberOfSteps": 1000
    },
  
    "boundary": { "all": { "type": "mur" } },

    "mesh": {
        "grid": {
            "numberOfCells": [20, 20, 20],
            "steps": {
                "x": [0.1],
                "y": [0.1],
                "z": [0.1]
            }
        },
        "elements": [
            {"id": 1, "type": "cellRegion", "intervals": [ [[10,  0, 10], [10,  5, 10]] ]},
            {"id": 2, "type": "cellRegion", "intervals": [ [[ 5,  5, 10], [15, 15, 10]] ]},
            {"id": 3, "type": "cellRegion", "intervals": [ [[10, 15, 10], [10, 20, 10]] ]},
            {"id": 4, "type": "cellRegion", "intervals": [ [[ 9,  2,  9], [11,  2, 11]] ]},
            {"id": 5, "type": "cellRegion", "intervals": [ [[ 9, 17,  9], [11, 17, 11]] ]}
        ]
    },

    "materials": [ {"id": 1, "type": "pec"} ],

    "materialRegions": [
        {"name": "pec_square", "materialId": 1, "elementIds": [2]},
        {"name": "exit_line",  "materialId": 1, "elementIds": [3]}
    ],

    "sources": [
        {
            "name": "entry_line_curent",
            "type": "nodalSource", 
            "field": "current",
            "magnitudeFile": "gauss.exc", 
            "elementIds": [1]
        }
    ],

    "probes": [
        {
            "name": "bulk_current_at_entry",
            "type": "bulkCurrent",
            "elementIds": [4],
            "domain": { "type": "time" }
        },
        {
            "name": "bulk_current_at_exit",
            "type": "bulkCurrent",
            "elementIds": [5],
            "domain": { "type": "time" }
        }
    ]
}